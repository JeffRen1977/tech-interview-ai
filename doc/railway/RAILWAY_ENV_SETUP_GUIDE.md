# ğŸš€ Railway ç¯å¢ƒå˜é‡è®¾ç½®æŒ‡å—

## ğŸ“‹ æ­¥éª¤æ¦‚è§ˆ

1. **å‡†å¤‡ç¯å¢ƒå˜é‡æ–‡ä»¶** - åˆ›å»ºå¹¶é…ç½® `backend/.env`
2. **å®‰è£… Railway CLI** - å®‰è£…å‘½ä»¤è¡Œå·¥å…·
3. **ç™»å½• Railway** - ç™»å½•ä½ çš„è´¦æˆ·
4. **å¯¼å…¥ç¯å¢ƒå˜é‡** - ä»æœ¬åœ°æ–‡ä»¶å¯¼å…¥åˆ° Railway
5. **éªŒè¯è®¾ç½®** - æ£€æŸ¥å¹¶æµ‹è¯•éƒ¨ç½²

## ğŸ”§ è¯¦ç»†æ­¥éª¤

### æ­¥éª¤ 1: å‡†å¤‡ç¯å¢ƒå˜é‡æ–‡ä»¶

æˆ‘å·²ç»ä¸ºä½ åˆ›å»ºäº† `backend/.env` æ–‡ä»¶æ¨¡æ¿ã€‚ç°åœ¨ä½ éœ€è¦ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶ï¼Œå¡«å…¥å®é™…çš„å€¼ï¼š

```bash
# ç¼–è¾‘ .env æ–‡ä»¶
nano backend/.env
# æˆ–è€…ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨
code backend/.env
```

#### éœ€è¦å¡«å…¥çš„å€¼ï¼š

**Firebase é…ç½®** (ä» Firebase Console è·å–):
- `FIREBASE_PROJECT_ID`: ä½ çš„ Firebase é¡¹ç›® ID
- `FIREBASE_PRIVATE_KEY`: ä½ çš„ Firebase ç§é’¥ (å®Œæ•´æ ¼å¼)
- `FIREBASE_CLIENT_EMAIL`: ä½ çš„ Firebase æœåŠ¡è´¦å·é‚®ç®±
- `FIREBASE_CLIENT_ID`: ä½ çš„ Firebase å®¢æˆ·ç«¯ ID

**JWT é…ç½®**:
- `JWT_SECRET`: ç”Ÿæˆä¸€ä¸ªå¼ºå¯†ç ä½œä¸º JWT å¯†é’¥

**Gemini AI é…ç½®** (ä» Google AI Studio è·å–):
- `GEMINI_API_KEY`: ä½ çš„ Gemini API å¯†é’¥

**å…¶ä»–é…ç½®**:
- `FRONTEND_URL`: ä½ çš„å‰ç«¯åŸŸå (å¦‚æœå·²éƒ¨ç½²)

### æ­¥éª¤ 2: è¿è¡Œå¯¼å…¥è„šæœ¬

```bash
# è¿è¡Œç¯å¢ƒå˜é‡å¯¼å…¥è„šæœ¬
./railway-env-import.sh
```

è¿™ä¸ªè„šæœ¬ä¼šï¼š
- æ£€æŸ¥ Railway CLI æ˜¯å¦å®‰è£…
- æç¤ºä½ ç™»å½• Railway
- åˆå§‹åŒ–æˆ–é“¾æ¥åˆ°é¡¹ç›®
- ä» `backend/.env` æ–‡ä»¶å¯¼å…¥æ‰€æœ‰ç¯å¢ƒå˜é‡
- é‡æ–°éƒ¨ç½²é¡¹ç›®

### æ­¥éª¤ 3: æ‰‹åŠ¨éªŒè¯

å¦‚æœè„šæœ¬è¿è¡ŒæˆåŠŸï¼Œä½ å¯ä»¥æ‰‹åŠ¨éªŒè¯ï¼š

```bash
# æŸ¥çœ‹æ‰€æœ‰ç¯å¢ƒå˜é‡
railway variables

# æŸ¥çœ‹é¡¹ç›®çŠ¶æ€
railway status

# æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—
railway logs

# è·å–é¡¹ç›® URL
railway domain
```

## ğŸ” è·å–é…ç½®å€¼çš„æ–¹æ³•

### Firebase é…ç½®è·å–æ­¥éª¤ï¼š

1. **è®¿é—® Firebase Console**: https://console.firebase.google.com/
2. **é€‰æ‹©ä½ çš„é¡¹ç›®**
3. **è¿›å…¥é¡¹ç›®è®¾ç½®**: ç‚¹å‡»é½¿è½®å›¾æ ‡ â†’ é¡¹ç›®è®¾ç½®
4. **æœåŠ¡è´¦å·æ ‡ç­¾**: ç‚¹å‡» "æœåŠ¡è´¦å·" æ ‡ç­¾
5. **ç”Ÿæˆæ–°çš„ç§é’¥**: ç‚¹å‡» "ç”Ÿæˆæ–°çš„ç§é’¥" æŒ‰é’®
6. **ä¸‹è½½ JSON æ–‡ä»¶**: ä¸‹è½½åŒ…å«æ‰€æœ‰é…ç½®çš„ JSON æ–‡ä»¶
7. **æå–é…ç½®å€¼**: ä» JSON æ–‡ä»¶ä¸­æå–éœ€è¦çš„å€¼

### Gemini API å¯†é’¥è·å–æ­¥éª¤ï¼š

1. **è®¿é—® Google AI Studio**: https://makersuite.google.com/app/apikey
2. **åˆ›å»º API å¯†é’¥**: ç‚¹å‡» "Create API Key"
3. **å¤åˆ¶å¯†é’¥**: å¤åˆ¶ç”Ÿæˆçš„ API å¯†é’¥

### JWT å¯†é’¥ç”Ÿæˆï¼š

```bash
# ç”Ÿæˆä¸€ä¸ªå¼ºå¯†ç 
openssl rand -base64 32
# æˆ–è€…ä½¿ç”¨åœ¨çº¿ç”Ÿæˆå™¨
```

## ğŸ†˜ å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜ 1: Railway CLI æœªå®‰è£…
```bash
npm install -g @railway/cli
```

### é—®é¢˜ 2: ç™»å½•å¤±è´¥
```bash
railway logout
railway login
```

### é—®é¢˜ 3: é¡¹ç›®æœªé“¾æ¥
```bash
railway init
# æˆ–è€…
railway link --project your-project-name
```

### é—®é¢˜ 4: ç¯å¢ƒå˜é‡æ ¼å¼é”™è¯¯
- ç¡®ä¿ `FIREBASE_PRIVATE_KEY` åŒ…å«å®Œæ•´çš„ç§é’¥æ ¼å¼
- ç¡®ä¿æ‰€æœ‰å€¼éƒ½æ­£ç¡®å¡«å†™ï¼Œæ²¡æœ‰å¤šä½™çš„ç©ºæ ¼

### é—®é¢˜ 5: éƒ¨ç½²å¤±è´¥
```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
railway logs --follow

# é‡æ–°éƒ¨ç½²
railway up
```

## âœ… éªŒè¯éƒ¨ç½²

éƒ¨ç½²å®Œæˆåï¼Œæµ‹è¯•ä»¥ä¸‹ç«¯ç‚¹ï¼š

```bash
# å¥åº·æ£€æŸ¥
curl https://your-project-url.railway.app/api/auth/health

# åº”è¯¥è¿”å›: {"status":"ok","message":"Server is running"}
```

## ğŸ“ è·å–å¸®åŠ©

- **Railway æ–‡æ¡£**: https://docs.railway.app
- **Firebase æ–‡æ¡£**: https://firebase.google.com/docs
- **Gemini AI æ–‡æ¡£**: https://ai.google.dev/docs

## ğŸ¯ ä¸‹ä¸€æ­¥

ç¯å¢ƒå˜é‡è®¾ç½®å®Œæˆåï¼Œä½ å¯ä»¥ï¼š
1. éƒ¨ç½²å‰ç«¯åˆ° Vercel
2. é…ç½® CORS è®¾ç½®
3. æµ‹è¯•å®Œæ•´çš„åº”ç”¨åŠŸèƒ½ 